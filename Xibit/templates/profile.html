{% extends "base.html" %}

{% block main_content %}
    <div class="profile_container">
        <div class="profile_info" id="profile_elements">
            
            <div>
                <img class="profile_image" src="{{ url_for('static', filename='images/profilepics/' + profilepic[0]) }}" />
                <p class="display_name">{{ display_name[0] }}</p>
                <p class="textsmall_profile">@{{ user }}</p>
            </div>

            <div class="profile_details">
                <ul class="friends_art_likes">
                    <li>x Friends</li>
                    <li>x Artworks</li>
                    <li>x Likes</li>
                </ul>
                <div class="tool_divider"></div>
                
                <p class="text_profile">{{ bio[0] }}</p>
            </div>

            <input type="checkbox" id="disp_editprofile" name="disp_editprofile"/>
            <div class="edit_display">
                <div class="edit_details">
                    <img class="profile_image" src="{{ url_for('static', filename='images/profilepics/' + profilepic[0]) }}">
                    <div class="tool_divider"></div>
                    
                    {% if user == g.user %}
                    <form class="text" action="#" method="POST" enctype="multipart/form-data" novalidate> 
                        {{ form.hidden_tag() }}
                        {{ form.profile_pic(id_="pfp_file") }}
                        {% for error in form.profile_pic.errors %}
                            {{ error }}
                        {% endfor %}
                        <input type="button" value="Change Profile Picture" onclick="document.getElementById('pfp_file').click();" />
                        {% if profilepic[0] != "default-profile.png" %}
                            <div class="pfp_remove_container">
                                {{ form.rm_pfp(class_="pfp_remove_box") }}
                                {{ form.rm_pfp.label(class_="pfp_remove") }}
                                {% for error in form.rm_pfp.errors %}
                                    {{ error }}
                                {% endfor %}
                            </div>
                        {% endif %}
                        <div class="tool_divider"></div>
                        {{ form.display_name.label }}
                        {{ form.display_name() }}
                        {% for error in form.display_name.errors %}
                            {{ error }}
                        {% endfor %}
                        <div class="tool_divider"></div>
                        {{ form.bio.label }}
                        {{ form.bio() }}
                        {% for error in form.bio.errors %}
                            {{ error }} 
                        {% endfor %}
                        <div class="tool_divider"></div>
                        <div class="edit_btns">
                            <label for="disp_editprofile" class="edit_cancel">Cancel</label>
                            <label for="disp_editprofile">
                                {{ form.submit(class="button") }}
                            </label>
                        </div>
                    </form>
                    {% endif %}
                </div>
                <div class="back_shadow"></div>
            </div>

            {% if user == g.user %}
            <label for="disp_editprofile" class="edit-btn">Edit Profile</label>
            {% else %}
            <label for="send_Friend_Request" class="edit-btn"><a href="{{ url_for('sendFriendRequest', user = user) }}">Send Friend Request</a></label>
            {% endif %}
            <label for="view_Friends" class="edit-btn"><a href="{{ url_for('viewFriends', user = user) }}">View Friends</a></label>

        </div>
        <div class="profile_container2" id="profile_elements">
            <div class="profile_artwork">
                <img class="art_placeholder" src="image.png"/>
                <!--<div class="art_placeholder">
                    <a class="text_artwork_profile">Artwork to be added</a>
                </div>-->
            </div>
            <div class="profile_friends">
                <a class="text">Friends List to be added</a>
            </div>
        </div>
    </div>
{% endblock %}